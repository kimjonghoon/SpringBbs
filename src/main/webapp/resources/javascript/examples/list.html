<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>자바스크립트 쿠키 테스트</title>
<script type="text/javascript">
window.onload = initPage;

function initPage() {
	var select = document.getElementById("numPerPage");
	select.onchange = setNumPerPage;
	var showNPPBtn = document.getElementById("show-npp-btn");
	showNPPBtn.onclick = showCookie;
	var deleteNPPBtn = document.getElementById("delete-npp-btn");
	deleteNPPBtn.onclick = removeCookie;
}

function createCookie(name, value, days) {
	var cookieStr = name + "=" + escape(value);
	
	if (days) {
		var expires = new Date();
		expires.setDate(expires.getDate() + days);
		cookieStr += "; expires=" + expires.toGMTString();
	}
	
	document.cookie = cookieStr;
}

function readCookie(name) {
	var cookie = document.cookie;
	var beginIndex = cookie.indexOf(" " + name + "=");
	if (beginIndex == -1) {
		beginIndex = cookie.indexOf(name+"=");
	}
	if (beginIndex == -1) {
		return null;
	} else {
		beginIndex = cookie.indexOf("=", beginIndex) + 1;
		var endIndex = cookie.indexOf(";", beginIndex);
		if (endIndex == -1) {
			endIndex = cookie.length;
		}
		return unescape(cookie.substring(beginIndex, endIndex));
	}
}

function deleteCookie(name) {
    document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
}

function setNumPerPage() {
	var selectElement = document.getElementById("numPerPage");
	var numPerPage = selectElement.value;
	createCookie('numPerPage',numPerPage,'100');
}

function showCookie() {
	var ret = readCookie("numPerPage");
	var cookiePrintDiv = document.getElementById("cookie-print");
	cookiePrintDiv.innerHTML = ret;
}

function removeCookie() {
	deleteCookie("numPerPage");	
}
</script>
</head>
<body>
<select id="numPerPage">
	<option value="10">10</option>
	<option value="25">25</option>
	<option value="50">50</option>
	<option value="100">100</option>
</select>
<input type="button" id="show-npp-btn" value="쿠키값 확인" />
<input type="button" id="delete-npp-btn" value="쿠키 삭제" />
<div id="cookie-print">

</div>
</body>
</html>